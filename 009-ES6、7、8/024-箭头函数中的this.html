<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>024-箭头函数中的this.html</title>
</head>
<body>
	
</body>
<script>
	var id = 66;
	function Timer(id){
		this.id = id;
		setTimeout(function(){
			// new的作用：
			// 1.var timer ={},生成一个构造函数的实列对象
			//2.this = {},将this指向这个实例对象
			console.log(this);//function定义的函数，this是运行时确定的，谁调用它属于谁，window,因为定时器是异步程序，属于window,在100秒后由window调用
			console.log(this.id);//这里的this是window，而window上由一个全局变量为66。
		},100)
		//3.return 这个实例对象
	}
	let t1 = new Timer(11);
	//Timer(11) = window.Timer(11)
	function Timerd(id){
		this.id = id;
		setTimeout(()=>{
			console.log(this);//箭头函数导致this总是指向函数定义生效时所在的实列对象,延迟函数中匿名函数在定义的时候是属于Timer的实例对象,所以里面的this就是Timer对象Timerd {id: 33}：t1
			console.log(this.id)//33
		})
	}
	let t2 = new Timerd(33)
</script>
</html>